<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="./profile.xhtml">


            <ui:define name="content">
                <h1 class="title ui-widget-header ui-corner-all">#{userM.disciplineSelected} > #{userM.moduleSelected}</h1>
                <div class="entry">
                    <h:outputText value="#{userM.moduleSelectedList.info}"></h:outputText>
                    <p:accordionPanel id="panel" value="#{userM.moduleSelectedList.tests}" var="test">

                        <p:tab title="#{test.name}">
                            <h:panelGrid id="pgrid" columns="2" cellpadding="10">
                                <p:graphicImage value="http://www.w3schools.com/images/w3html.gif" />

                                <h:panelGrid columns="2" cellpadding="10">
                                    <h:outputText value="Nome do Teste: " />
                                    <h:outputText value="#{test.name}" style="font-weight: bold"/>
                                    <h:outputText value="Descrição: " />
                                    <h:outputText value="#{test.description}" style="font-weight: bold"/>

                                    <!-- <p:commandButton value="Resolver teste"  onclick="dlg1.show();" type="button"  /> -->
                                    <h:form >  
                                        <!-- aqui esta um martelo que o tabv diz que nao existe?? :S-->
                                        <p:commandButton  value="Resolver teste" update="tabv" onclick="dlg1.show();" actionListener="#{userM.yahoo}"   label="#{test.name}" />
                                    </h:form>
                                    <p:dialog header="Resolva o teste" widgetVar="dlg1" modal="true" height="500" >  
                                        <h:outputText value="Teste" />  
                                    </p:dialog>
                                </h:panelGrid>

                            </h:panelGrid>

                        </p:tab>
                    </p:accordionPanel>
                </div>



                <p:dialog id="testes" header="Resolva o teste" widgetVar="dlg1" modal="true" height="500" width="800" > 


                    <p:tabView id="tabv" dynamic="true" cache="false" >  

                        <p:tab id="EM" title="Escolha Multipla" >
                            <p:dataList value="#{userM.testSelected.questions}" var="q">

                                <p:column>
                                    <h:outputText value="#{q.question}" />  
                                    <p:selectOneRadio value="#{q.question}" layout="pageDirection" >  
                                        <f:selectItems value="#{q.hipoteses}" />  
                                    </p:selectOneRadio>
                                </p:column>
                            </p:dataList> 
                        </p:tab>  

                        <p:tab id="DS" title="Desenvolvimento">
                            <p:column>
                                <h:form> 
                                    <p:commandButton value="Guardar" actionListener="#{userM.guardar}" onclick="bar.show()"></p:commandButton>
                                </h:form>
                            </p:column>

                            <p:dataList value="#{userM.testSelected.questionsDesenvolvimento}" itemType="none" var="qD">
                                <!--<p:column>
                                    <h:outputText value="#{qD.question}" />  
                                    <p:inplace  editor="true" >
                                        <p:inputText value="#{qD.userAnswer.s}" label="Editar"/>
                                    </p:inplace>
                                </p:column>-->
                                <p:column>
                                    <h:panelGrid columns="2">
                                        <p:panel style="border-color: inactiveborder">
                                            <h:form>
                                                <h:outputText value="#{qD.question}"/><br/>
                                                <p:inplace  editor="true" >
                                                    <p:inputText value="#{qD.userAnswer.s}"  required="true" label="text"/>
                                                </p:inplace>
                                            </h:form>

                                            <!--URLS-->
                                        </p:panel>
                                        <p:panel style="border-color: inactiveborder">
                                            <p:accordionPanel value="Google" style="border: #AFAFAF" activeIndex="off" >  
                                                <p:tab title="URLs">  
                                                    <h:panelGrid columns="1" cellpadding="5">  
                                                        <h:form>
                                                            <p:dataList value="#{qD.urls}" itemType="none" var="urls">               
                                                                        <!--<h:outputText  value="#{urls.name}" />-->
                                                                        <a href="#{urls.url}" target="_blank">#{urls.name}</a>
                                                                        <h:commandButton value="Gosto"/>
                                                            </p:dataList>
                                                        </h:form>

                                                    </h:panelGrid>  
                                                </p:tab> 

                                            </p:accordionPanel>
                                        </p:panel>
                                        <!--FIM URLS-->
                                    </h:panelGrid>
                                </p:column>
                            </p:dataList>


                        </p:tab>  
                    </p:tabView>

                    <p:notificationBar  position="top" effect="slide" widgetVar="bar" styleClass="top">  
                        <h:outputText value="Respostas guardadas." style="color:#FFCC00;font-size:36px;" />
                        <h:form>
                            <p:commandButton value="Hide" onclick="bar.hide()"/>
                        </h:form>
                    </p:notificationBar> 

                </p:dialog>





            </ui:define>

        </ui:composition>

    </body>
</html>
